{% load static %}
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>All posts</title>
  <link rel="stylesheet" href="{% static 'blog/css/style.css' %}">
</head>
<body>
  <header>
    <h1>Blog posts</h1>
    {% if user.is_authenticated %}
      <a href="{% url 'post_create' %}">New post</a> |
      <a href="{% url 'profile' %}">Profile</a> |
      <a href="{% url 'logout' %}">Logout</a>
    {% else %}
      <a href="{% url 'login' %}">Login</a> |
      <a href="{% url 'register' %}">Register</a>
    {% endif %}
  </header>

  {% for post in posts %}
    <article>
      <h2><a href="{% url 'post_detail' post.pk %}">{{ post.title }}</a></h2>
      <p>by {{ post.author.username }} â€” {{ post.published_date|date:"SHORT_DATETIME_FORMAT" }}</p>
      <p>{{ post.content|truncatechars:200 }}</p>
      <p><a href="{% url 'post_detail' post.pk %}">Read more</a></p>
    </article>
    <hr>
  {% empty %}
    <p>No posts yet.</p>
  {% endfor %}

  {% if is_paginated %}
    <div class="pagination">
      {% if page_obj.has_previous %}<a href="?page={{ page_obj.previous_page_number }}">Previous</a>{% endif %}
      Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
      {% if page_obj.has_next %}<a href="?page={{ page_obj.next_page_number }}">Next</a>{% endif %}
    </div>
  {% endif %}
</body>
</html>
